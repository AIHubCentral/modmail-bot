import{S as k,i as D,s as I,e as N,c as W,a as q,d as E,b as v,f as C,g as M,E as g,l as y,a2 as O,v as V,a3 as j,a4 as A}from"./index-0eb8b19d.js";function L(r){let t;return{c(){t=N("div"),this.h()},l(e){t=W(e,"DIV",{id:!0,style:!0}),q(t).forEach(E),this.h()},h(){v(t,"id","svelte-infinite-scroll"),C(t,"width","0")},m(e,o){M(e,t,o),r[11](t)},p:g,d(e){e&&E(t),r[11](null)}}}function B(r){let t,e=!r[1]&&!r[0]&&L(r);return{c(){e&&e.c(),t=y()},l(o){e&&e.l(o),t=y()},m(o,s){e&&e.m(o,s),M(o,t,s)},p(o,[s]){!o[1]&&!o[0]?e?e.p(o,s):(e=L(o),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:g,o:g,d(o){e&&e.d(o),o&&E(t)}}}function F(r,t,e){let{threshold:o=0}=t,{horizontal:s=!1}=t,{elementScroll:d=null}=t,{hasMore:m=!0}=t,{reverse:c=!1}=t,{window:_=!1}=t;const H=O();let f=!1,u,S,b,n;const a=l=>{if(!m)return;const h=l.target;T(h,c,s)<=o?(!f&&m&&(H("loadMore"),e(8,S=h.scrollHeight),e(9,b=h.scrollTop)),e(7,f=!0)):e(7,f=!1)},T=(l,h,w)=>{const i=l.documentElement?l.documentElement:l;return h?w?i.scrollLeft:i.scrollTop:w?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollHeight-i.clientHeight-i.scrollTop};V(()=>{_?e(10,n=document):d?e(10,n=d):e(10,n=u.parentNode)}),j(()=>{n&&(n.removeEventListener("scroll",a),n.removeEventListener("resize",a))});function z(l){A[l?"unshift":"push"](()=>{u=l,e(2,u)})}return r.$$set=l=>{"threshold"in l&&e(3,o=l.threshold),"horizontal"in l&&e(4,s=l.horizontal),"elementScroll"in l&&e(0,d=l.elementScroll),"hasMore"in l&&e(5,m=l.hasMore),"reverse"in l&&e(6,c=l.reverse),"window"in l&&e(1,_=l.window)},r.$$.update=()=>{r.$$.dirty&1088&&n&&(c&&e(10,n.scrollTop=n.scrollHeight,n),n.addEventListener("scroll",a),n.addEventListener("resize",a)),r.$$.dirty&1984&&f&&c&&e(10,n.scrollTop=n.scrollHeight-S+b,n)},[d,_,u,o,s,m,c,f,S,b,n,z]}class J extends k{constructor(t){super(),D(this,t,F,B,I,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}export{J as I};

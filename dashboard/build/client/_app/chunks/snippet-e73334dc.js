import{S as X,i as Z,s as z,e as y,t as j,k as B,c as g,a as E,h as C,d as m,m as H,b as S,g as P,H as u,a0 as J,I,j as G,n as Q,o as N,p as W,q as O,Z as Y,K as $,M as ee,E as K,w as te,x as ne,y as ae,B as se}from"./index-0eb8b19d.js";import{R as le}from"./Rolling-20a2b11f.js";import{p as M}from"./Popup-dbd8009a.js";import"./index-d4f4015a.js";function oe(l){let e;return{c(){e=j("Speichern")},l(t){e=C(t,"Speichern")},m(t,a){P(t,e,a)},i:K,o:K,d(t){t&&m(e)}}}function re(l){let e,t;return e=new le({props:{scaleFactor:"0.12"}}),{c(){te(e.$$.fragment)},l(a){ne(e.$$.fragment,a)},m(a,s){ae(e,a,s),t=!0},i(a){t||(O(e.$$.fragment,a),t=!0)},o(a){N(e.$$.fragment,a),t=!1},d(a){se(e,a)}}}function ce(l){var U;let e,t,a,s=((U=l[0])==null?void 0:U.name)+"",f,k,o,T,p,_,n,i,D,d,x,w,A,R;const q=[re,oe],h=[];function L(r,c){return r[2]==="save"?0:1}return n=L(l),i=h[n]=q[n](l),{c(){e=y("div"),t=y("h2"),a=j("Snippet "),f=j(s),k=B(),o=y("textarea"),T=B(),p=y("div"),_=y("button"),i.c(),D=B(),d=y("button"),x=j("L\xF6schen"),this.h()},l(r){e=g(r,"DIV",{class:!0});var c=E(e);t=g(c,"H2",{});var v=E(t);a=C(v,"Snippet "),f=C(v,s),v.forEach(m),k=H(c),o=g(c,"TEXTAREA",{placeholder:!0,class:!0}),E(o).forEach(m),T=H(c),p=g(c,"DIV",{class:!0});var b=E(p);_=g(b,"BUTTON",{class:!0});var V=E(_);i.l(V),V.forEach(m),D=H(b),d=g(b,"BUTTON",{class:!0});var F=E(d);x=C(F,"L\xF6schen"),F.forEach(m),b.forEach(m),c.forEach(m),this.h()},h(){S(o,"placeholder","Snippet content"),S(o,"class","svelte-14f48e0"),S(_,"class","ja svelte-14f48e0"),S(d,"class","nein svelte-14f48e0"),S(p,"class","buttons svelte-14f48e0"),S(e,"class","wrapper svelte-14f48e0")},m(r,c){P(r,e,c),u(e,t),u(t,a),u(t,f),u(e,k),u(e,o),J(o,l[3]),u(e,T),u(e,p),u(p,_),h[n].m(_,null),u(p,D),u(p,d),u(d,x),w=!0,A||(R=[I(o,"input",l[5]),I(_,"click",l[6]),I(d,"click",l[7])],A=!0)},p(r,[c]){var b;(!w||c&1)&&s!==(s=((b=r[0])==null?void 0:b.name)+"")&&G(f,s),c&8&&J(o,r[3]);let v=n;n=L(r),n!==v&&(Q(),N(h[v],1,1,()=>{h[v]=null}),W(),i=h[n],i||(i=h[n]=q[n](r),i.c()),O(i,1),i.m(_,null))},i(r){w||(O(i),w=!0)},o(r){N(i),w=!1},d(r){r&&m(e),h[n].d(),A=!1,Y(R)}}}function ie(l,e,t){let a;$(l,M,n=>t(4,a=n));let{value:s,close:f}=e,k=!1,o=s==null?void 0:s.content;function T(){o=this.value,t(3,o)}const p=async()=>{t(2,k="save");let n=await fetch("/api/v1/snippets",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s.name,content:o})});n.status===204?f(!0):console.error(await n.json())},_=async()=>{ee(M,a={key:"snippet-delete",value:{name:s.name}},a)};return l.$$set=n=>{"value"in n&&t(0,s=n.value),"close"in n&&t(1,f=n.close)},l.$$.update=()=>{l.$$.dirty&3&&(s!=null&&s.name||f())},[s,f,k,o,a,T,p,_]}class me extends X{constructor(e){super(),Z(this,e,ie,ce,z,{value:0,close:1})}}export{me as default};

import{S as de,i as ve,s as be,e as g,t as J,k as B,c as k,a as E,h as Z,d,m as O,b as p,G as C,g as N,H as b,a0 as se,I as q,a1 as L,o as F,p as ge,q as H,Z as ke,K as le,v as we,n as ye,M as ne,w as he,x as _e,y as pe,E as z,B as me,f as j,J as A}from"../chunks/index-0eb8b19d.js";import{R as Ee}from"../chunks/Rolling-20a2b11f.js";import{I as Ie}from"../chunks/InfiniteScroll-0d6a794f.js";import{p as R,u as Se}from"../chunks/Popup-dbd8009a.js";import"../chunks/index-d4f4015a.js";function ae(i,e,n){const l=i.slice();return l[14]=e[n],l}function ie(i,e,n){const l=i.slice();return l[17]=e[n],l}function re(i,e,n){const l=i.slice();return l[17]=e[n],l}function De(i){let e,n,l;return n=new Ee({props:{style:"transform: scale(.2);"}}),{c(){e=g("div"),he(n.$$.fragment),this.h()},l(a){e=k(a,"DIV",{class:!0});var o=E(e);_e(n.$$.fragment,o),o.forEach(d),this.h()},h(){p(e,"class","loading svelte-1b09m5s")},m(a,o){N(a,e,o),pe(n,e,null),l=!0},p:z,i(a){l||(H(n.$$.fragment,a),l=!0)},o(a){F(n.$$.fragment,a),l=!1},d(a){a&&d(e),me(n)}}}function Me(i){let e,n,l,a,o,_=i[3],c=[];for(let t=0;t<_.length;t+=1)c[t]=ce(re(i,_,t));let v=i[1],h=[];for(let t=0;t<v.length;t+=1)h[t]=fe(ae(i,v,t));let r=null;return v.length||(r=oe()),a=new Ie({}),a.$on("loadMore",i[13]),{c(){e=g("div");for(let t=0;t<c.length;t+=1)c[t].c();n=B();for(let t=0;t<h.length;t+=1)h[t].c();r&&r.c(),l=B(),he(a.$$.fragment),this.h()},l(t){e=k(t,"DIV",{class:!0});var u=E(e);for(let s=0;s<c.length;s+=1)c[s].l(u);u.forEach(d),n=O(t);for(let s=0;s<h.length;s+=1)h[s].l(t);r&&r.l(t),l=O(t),_e(a.$$.fragment,t),this.h()},h(){p(e,"class","ticket columns-template svelte-1b09m5s")},m(t,u){N(t,e,u);for(let s=0;s<c.length;s+=1)c[s].m(e,null);N(t,n,u);for(let s=0;s<h.length;s+=1)h[s].m(t,u);r&&r.m(t,u),N(t,l,u),pe(a,t,u),o=!0},p(t,u){if(u&8){_=t[3];let s;for(s=0;s<_.length;s+=1){const f=re(t,_,s);c[s]?c[s].p(f,u):(c[s]=ce(f),c[s].c(),c[s].m(e,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=_.length}if(u&14){v=t[1];let s;for(s=0;s<v.length;s+=1){const f=ae(t,v,s);h[s]?h[s].p(f,u):(h[s]=fe(f),h[s].c(),h[s].m(l.parentNode,l))}for(;s<h.length;s+=1)h[s].d(1);h.length=v.length,!v.length&&r?r.p(t,u):v.length?r&&(r.d(1),r=null):(r=oe(),r.c(),r.m(l.parentNode,l))}},i(t){o||(H(a.$$.fragment,t),o=!0)},o(t){F(a.$$.fragment,t),o=!1},d(t){t&&d(e),A(c,t),t&&d(n),A(h,t),r&&r.d(t),t&&d(l),me(a,t)}}}function ce(i){let e,n=i[17].label+"",l,a;return{c(){e=g("div"),l=J(n),this.h()},l(o){e=k(o,"DIV",{class:!0,style:!0});var _=E(e);l=Z(_,n),_.forEach(d),this.h()},h(){p(e,"class",a="column "+i[17].id+" svelte-1b09m5s"),j(e,"width",i[17].width+"%"),j(e,"min-width",i[17].minwidth+"px")},m(o,_){N(o,e,_),b(e,l)},p:z,d(o){o&&d(e)}}}function oe(i){let e,n;return{c(){e=g("div"),n=J("Keine Snippets gefunden"),this.h()},l(l){e=k(l,"DIV",{class:!0});var a=E(e);n=Z(a,"Keine Snippets gefunden"),a.forEach(d),this.h()},h(){p(e,"class","loading svelte-1b09m5s")},m(l,a){N(l,e,a),b(e,n)},p:z,d(l){l&&d(e)}}}function ue(i){let e,n=i[17].get(i[14])+"",l;return{c(){e=g("div"),this.h()},l(a){e=k(a,"DIV",{class:!0,style:!0});var o=E(e);o.forEach(d),this.h()},h(){p(e,"class",l="column "+i[17].id+" svelte-1b09m5s"),j(e,"width",i[17].width+"%"),j(e,"min-width",i[17].minwidth+"px")},m(a,o){N(a,e,o),e.innerHTML=n},p(a,o){o&2&&n!==(n=a[17].get(a[14])+"")&&(e.innerHTML=n)},d(a){a&&d(e)}}}function fe(i){let e,n,l,a,o,_,c,v,h=i[3],r=[];for(let u=0;u<h.length;u+=1)r[u]=ue(ie(i,h,u));function t(){return i[12](i[14])}return{c(){e=g("button");for(let u=0;u<r.length;u+=1)r[u].c();n=B(),l=g("div"),a=g("button"),o=g("img"),this.h()},l(u){e=k(u,"BUTTON",{class:!0});var s=E(e);for(let V=0;V<r.length;V+=1)r[V].l(s);n=O(s),l=k(s,"DIV",{class:!0,style:!0});var f=E(l);a=k(f,"BUTTON",{class:!0});var y=E(a);o=k(y,"IMG",{src:!0,alt:!0,class:!0}),y.forEach(d),f.forEach(d),s.forEach(d),this.h()},h(){C(o.src,_="/assets/icons/pen.svg")||p(o,"src",_),p(o,"alt","edit"),p(o,"class","svelte-1b09m5s"),p(a,"class","svelte-1b09m5s"),p(l,"class","column last svelte-1b09m5s"),j(l,"margin-left","auto"),j(l,"min-width","30px"),p(e,"class","ticket svelte-1b09m5s")},m(u,s){N(u,e,s);for(let f=0;f<r.length;f+=1)r[f].m(e,null);b(e,n),b(e,l),b(l,a),b(a,o),c||(v=q(a,"click",L(t)),c=!0)},p(u,s){if(i=u,s&10){h=i[3];let f;for(f=0;f<h.length;f+=1){const y=ie(i,h,f);r[f]?r[f].p(y,s):(r[f]=ue(y),r[f].c(),r[f].m(e,n))}for(;f<r.length;f+=1)r[f].d(1);r.length=h.length}},d(u){u&&d(e),A(r,u),c=!1,v()}}}function Te(i){let e,n,l,a,o,_,c,v,h,r,t,u,s,f,y,V,m,M,T,S,D,G,K,Q;const W=[Me,De],$=[];function X(w,I){return w[1]?0:1}return S=X(i),D=$[S]=W[S](i),{c(){e=g("div"),n=g("div"),l=g("span"),a=J("Snippets"),o=B(),_=g("form"),c=g("input"),h=B(),r=g("button"),t=g("img"),s=B(),f=g("button"),y=g("img"),M=B(),T=g("div"),D.c(),this.h()},l(w){e=k(w,"DIV",{class:!0});var I=E(e);n=k(I,"DIV",{class:!0});var U=E(n);l=k(U,"SPAN",{class:!0});var Y=E(l);a=Z(Y,"Snippets"),Y.forEach(d),o=O(U),_=k(U,"FORM",{class:!0});var P=E(_);c=k(P,"INPUT",{type:!0,placeholder:!0,class:!0}),h=O(P),r=k(P,"BUTTON",{type:!0,class:!0});var x=E(r);t=k(x,"IMG",{src:!0,alt:!0,class:!0}),x.forEach(d),s=O(P),f=k(P,"BUTTON",{class:!0});var ee=E(f);y=k(ee,"IMG",{src:!0,alt:!0,class:!0}),ee.forEach(d),P.forEach(d),U.forEach(d),M=O(I),T=k(I,"DIV",{class:!0});var te=E(T);D.l(te),te.forEach(d),I.forEach(d),this.h()},h(){p(l,"class","svelte-1b09m5s"),p(c,"type","text"),p(c,"placeholder","Snippet name / content"),c.disabled=v=!i[1],p(c,"class","svelte-1b09m5s"),C(t.src,u="/assets/icons/search-thin.svg")||p(t,"src",u),p(t,"alt","search"),p(t,"class","svelte-1b09m5s"),p(r,"type","submit"),p(r,"class","svelte-1b09m5s"),C(y.src,V="/assets/icons/plus.svg")||p(y,"src",V),p(y,"alt","new"),p(y,"class","svelte-1b09m5s"),p(f,"class","add svelte-1b09m5s"),p(_,"class",m="search "+(i[1]?"":"disabled")+" svelte-1b09m5s"),p(n,"class","header svelte-1b09m5s"),p(T,"class","tickets svelte-1b09m5s"),p(e,"class","container svelte-1b09m5s")},m(w,I){N(w,e,I),b(e,n),b(n,l),b(l,a),b(n,o),b(n,_),b(_,c),se(c,i[0]),b(_,h),b(_,r),b(r,t),b(_,s),b(_,f),b(f,y),b(e,M),b(e,T),$[S].m(T,null),G=!0,K||(Q=[q(c,"input",i[9]),q(f,"click",L(i[10])),q(_,"submit",L(i[11]))],K=!0)},p(w,[I]){(!G||I&2&&v!==(v=!w[1]))&&(c.disabled=v),I&1&&c.value!==w[0]&&se(c,w[0]),(!G||I&2&&m!==(m="search "+(w[1]?"":"disabled")+" svelte-1b09m5s"))&&p(_,"class",m);let U=S;S=X(w),S===U?$[S].p(w,I):(ye(),F($[U],1,1,()=>{$[U]=null}),ge(),D=$[S],D?D.p(w,I):(D=$[S]=W[S](w),D.c()),H(D,1),D.m(T,null))},i(w){G||(H(D),G=!0)},o(w){F(D),G=!1},d(w){w&&d(e),$[S].d(),K=!1,ke(Q)}}}function Ne(i,e,n){let l,a;le(i,Se,m=>n(8,l=m)),le(i,R,m=>n(2,a=m));let o,_=[{id:"name",label:"Name",get:m=>m.name,width:20,minwidth:120},{id:"content",label:"Content",get:m=>m.content,width:60,minwidth:170}];we(async()=>{let m=await fetch("/api/v1/snippets");m.status===200&&n(1,o=await m.json())});let c="",v=!0;async function h(){n(1,o=[]);let m=c?`phrase=${c}`:"",M=await fetch(`/api/v1/snippets${m?`?${m} `:""}`);M.status===200&&n(1,o=await M.json())}async function r(){start=limit,limit+=50;let m=c?`phrase=${c}`:"",M=await fetch(`/api/v1/snippets?start=${start}&limit=${limit}${m?`&${m} `:""}`);if(M.status===200){let T=await M.json();n(1,o=[...o,...T])}}let t=l;function u(){c=this.value,n(0,c)}const s=()=>{ne(R,a={key:"snippet-new"},a)},f=()=>h(),y=m=>ne(R,a={key:"snippet",value:{name:m.name,content:m.content}},a),V=()=>r();return i.$$.update=()=>{i.$$.dirty&65&&c&&v&&n(6,v=!1),i.$$.dirty&65&&!c&&!v&&(n(6,v=!0),h()),i.$$.dirty&384&&l!==t&&(n(7,t=l),h())},[c,o,a,_,h,r,v,t,l,u,s,f,y,V]}class Ge extends de{constructor(e){super(),ve(this,e,Ne,Te,be,{})}}export{Ge as default};

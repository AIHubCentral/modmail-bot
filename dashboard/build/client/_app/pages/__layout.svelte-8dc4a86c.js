import{_ as M}from"../chunks/preload-helper-e4860ae8.js";import{F as Te,S as De,i as ye,s as qe,e as b,k as N,t as G,c as g,a as E,d as f,m as S,h as B,G as Z,b as _,g as A,H as v,I as ee,j as pe,E as V,J as Me,K as Y,l as fe,L as Re,o as P,p as z,q,v as Le,n as x,M as W,w as j,x as te,y as H,B as J,N as _e,O as Oe,P as Ue,Q as me,R as Ce,T as de,U as Fe,V as Ge,W as Be,X as Ie,Y as we,Z as Pe}from"../chunks/index-0eb8b19d.js";import{R as Ae}from"../chunks/Rolling-20a2b11f.js";import{g as je}from"../chunks/navigation-0e6511d1.js";import{p as X,u as ve}from"../chunks/Popup-dbd8009a.js";import{f as he,a as Ve}from"../chunks/index-fe197f37.js";import"../chunks/singletons-d1fb5791.js";import"../chunks/index-d4f4015a.js";const He=()=>{const s=Te("__svelte__");return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:s.navigating.subscribe}},session:s.session,updated:s.updated}},Ne={subscribe(s){return He().page.subscribe(s)}};function be(s,e,l){const t=s.slice();return t[5]=e[l],t}function ge(s){let e,l,t,a,c,n,i=s[5].name+"",o,p,r,u,m;function d(){return s[3](s[5])}return{c(){e=b("button"),l=b("span"),t=b("img"),c=N(),n=b("span"),o=G(i),p=N(),this.h()},l(I){e=g(I,"BUTTON",{class:!0});var $=E(e);l=g($,"SPAN",{class:!0});var O=E(l);t=g(O,"IMG",{src:!0,alt:!0,class:!0}),O.forEach(f),c=S($),n=g($,"SPAN",{class:!0});var T=E(n);o=B(T,i),T.forEach(f),p=S($),$.forEach(f),this.h()},h(){Z(t.src,a="/assets/icons/"+s[5].icon)||_(t,"src",a),_(t,"alt","icon"),_(t,"class","svelte-s6hqp2"),_(l,"class","icon svelte-s6hqp2"),_(n,"class","name svelte-s6hqp2"),_(e,"class",r="item "+(s[1].url.pathname.split("/")[1]===s[5].path?"selected":"not-selected")+" svelte-s6hqp2")},m(I,$){A(I,e,$),v(e,l),v(l,t),v(e,c),v(e,n),v(n,o),v(e,p),u||(m=ee(e,"click",d),u=!0)},p(I,$){s=I,$&2&&r!==(r="item "+(s[1].url.pathname.split("/")[1]===s[5].path?"selected":"not-selected")+" svelte-s6hqp2")&&_(e,"class",r)},d(I){I&&f(e),u=!1,m()}}}function ke(s){let e,l,t;return{c(){e=b("span"),l=b("img"),this.h()},l(a){e=g(a,"SPAN",{class:!0});var c=E(e);l=g(c,"IMG",{src:!0,alt:!0,class:!0}),c.forEach(f),this.h()},h(){Z(l.src,t="https://cdn.discordapp.com/avatars/"+s[0].id+"/"+s[0].avatar+".png")||_(l,"src",t),_(l,"alt","pfp"),_(l,"class","svelte-s6hqp2"),_(e,"class","avatar")},m(a,c){A(a,e,c),v(e,l)},p(a,c){c&1&&!Z(l.src,t="https://cdn.discordapp.com/avatars/"+a[0].id+"/"+a[0].avatar+".png")&&_(l,"src",t)},d(a){a&&f(e)}}}function Je(s){let e,l,t,a,c,n,i,o,p,r,u,m=s[0].username+"",d,I,$,O,T=s[0].discriminator+"",K,se,R,L,ne,le,ie,U=s[2],D=[];for(let h=0;h<U.length;h+=1)D[h]=ge(be(s,U,h));let y=s[0].avatar&&ke(s);return{c(){e=b("nav"),l=b("div"),t=b("span"),a=G("fyfu modmail"),c=N(),n=b("div");for(let h=0;h<D.length;h+=1)D[h].c();i=N(),o=b("div"),y&&y.c(),p=N(),r=b("span"),u=b("span"),d=G(m),I=N(),$=b("span"),O=G("#"),K=G(T),se=N(),R=b("span"),L=b("img"),this.h()},l(h){e=g(h,"NAV",{class:!0});var w=E(e);l=g(w,"DIV",{class:!0});var k=E(l);t=g(k,"SPAN",{class:!0});var F=E(t);a=B(F,"fyfu modmail"),F.forEach(f),k.forEach(f),c=S(w),n=g(w,"DIV",{class:!0});var oe=E(n);for(let re=0;re<D.length;re+=1)D[re].l(oe);oe.forEach(f),i=S(w),o=g(w,"DIV",{class:!0});var C=E(o);y&&y.l(C),p=S(C),r=g(C,"SPAN",{class:!0});var Q=E(r);u=g(Q,"SPAN",{class:!0});var ue=E(u);d=B(ue,m),ue.forEach(f),I=S(Q),$=g(Q,"SPAN",{class:!0});var ae=E($);O=B(ae,"#"),K=B(ae,T),ae.forEach(f),Q.forEach(f),se=S(C),R=g(C,"SPAN",{class:!0});var ce=E(R);L=g(ce,"IMG",{src:!0,alt:!0,class:!0}),ce.forEach(f),C.forEach(f),w.forEach(f),this.h()},h(){_(t,"class","name svelte-s6hqp2"),_(l,"class","brand svelte-s6hqp2"),_(n,"class","items svelte-s6hqp2"),_(u,"class","username"),_($,"class","discriminator svelte-s6hqp2"),_(r,"class","name svelte-s6hqp2"),Z(L.src,ne="/assets/icons/logout.svg")||_(L,"src",ne),_(L,"alt","logout"),_(L,"class","svelte-s6hqp2"),_(R,"class","logout svelte-s6hqp2"),_(o,"class","user svelte-s6hqp2"),_(e,"class","svelte-s6hqp2")},m(h,w){A(h,e,w),v(e,l),v(l,t),v(t,a),v(e,c),v(e,n);for(let k=0;k<D.length;k+=1)D[k].m(n,null);v(e,i),v(e,o),y&&y.m(o,null),v(o,p),v(o,r),v(r,u),v(u,d),v(r,I),v(r,$),v($,O),v($,K),v(o,se),v(o,R),v(R,L),le||(ie=ee(R,"click",s[4]),le=!0)},p(h,[w]){if(w&6){U=h[2];let k;for(k=0;k<U.length;k+=1){const F=be(h,U,k);D[k]?D[k].p(F,w):(D[k]=ge(F),D[k].c(),D[k].m(n,null))}for(;k<D.length;k+=1)D[k].d(1);D.length=U.length}h[0].avatar?y?y.p(h,w):(y=ke(h),y.c(),y.m(o,p)):y&&(y.d(1),y=null),w&1&&m!==(m=h[0].username+"")&&pe(d,m),w&1&&T!==(T=h[0].discriminator+"")&&pe(K,T)},i:V,o:V,d(h){h&&f(e),Me(D,h),y&&y.d(),le=!1,ie()}}}function Ke(s,e,l){let t;Y(s,Ne,o=>l(1,t=o));let{userData:a}=e,c=[...a.manager?[{path:"manageusers",name:"User Management",icon:"user-settings.svg"}]:[],{path:"tickets",name:"Tickets",icon:"tickets.svg"},{path:"blocked",name:"Blockierte User",icon:"blocked.svg"},{path:"snippets",name:"Snippets",icon:"quote.svg"}];const n=o=>je(`/${o.path}`),i=()=>document.location.href="/api/v1/logout";return s.$$set=o=>{"userData"in o&&l(0,a=o.userData)},[a,t,c,n,i]}class Qe extends De{constructor(e){super(),ye(this,e,Ke,Je,qe,{userData:0})}}function Se(s){const e=l=>{s&&!s.contains(l.target)&&!l.defaultPrevented&&s.dispatchEvent(new CustomEvent("click_outside",s))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function We(s){switch(s){case"../lib/popups/snippet-delete.svelte":return M(()=>import("../chunks/snippet-delete-3d683233.js"),["chunks/snippet-delete-3d683233.js","assets/unblock-f86b8d97.css","chunks/index-0eb8b19d.js","chunks/Rolling-20a2b11f.js","assets/Rolling-bb063e28.css"]);case"../lib/popups/snippet-new.svelte":return M(()=>import("../chunks/snippet-new-1bc814a9.js"),["chunks/snippet-new-1bc814a9.js","assets/snippet-new-a2ac3906.css","chunks/index-0eb8b19d.js","chunks/Rolling-20a2b11f.js","assets/Rolling-bb063e28.css","chunks/Popup-dbd8009a.js","chunks/index-d4f4015a.js"]);case"../lib/popups/snippet.svelte":return M(()=>import("../chunks/snippet-e73334dc.js"),["chunks/snippet-e73334dc.js","assets/snippet-1e170321.css","chunks/index-0eb8b19d.js","chunks/Rolling-20a2b11f.js","assets/Rolling-bb063e28.css","chunks/Popup-dbd8009a.js","chunks/index-d4f4015a.js"]);case"../lib/popups/unblock.svelte":return M(()=>import("../chunks/unblock-0ada28e5.js"),["chunks/unblock-0ada28e5.js","assets/unblock-f86b8d97.css","chunks/index-0eb8b19d.js","chunks/Rolling-20a2b11f.js","assets/Rolling-bb063e28.css"]);default:return new Promise(function(e,l){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+s)))})}}function Xe(s){switch(s){case"../lib/popups/snippet-delete.svelte":return M(()=>import("../chunks/snippet-delete-3d683233.js"),["chunks/snippet-delete-3d683233.js","assets/unblock-f86b8d97.css","chunks/index-0eb8b19d.js","chunks/Rolling-20a2b11f.js","assets/Rolling-bb063e28.css"]);case"../lib/popups/snippet-new.svelte":return M(()=>import("../chunks/snippet-new-1bc814a9.js"),["chunks/snippet-new-1bc814a9.js","assets/snippet-new-a2ac3906.css","chunks/index-0eb8b19d.js","chunks/Rolling-20a2b11f.js","assets/Rolling-bb063e28.css","chunks/Popup-dbd8009a.js","chunks/index-d4f4015a.js"]);case"../lib/popups/snippet.svelte":return M(()=>import("../chunks/snippet-e73334dc.js"),["chunks/snippet-e73334dc.js","assets/snippet-1e170321.css","chunks/index-0eb8b19d.js","chunks/Rolling-20a2b11f.js","assets/Rolling-bb063e28.css","chunks/Popup-dbd8009a.js","chunks/index-d4f4015a.js"]);case"../lib/popups/unblock.svelte":return M(()=>import("../chunks/unblock-0ada28e5.js"),["chunks/unblock-0ada28e5.js","assets/unblock-f86b8d97.css","chunks/index-0eb8b19d.js","chunks/Rolling-20a2b11f.js","assets/Rolling-bb063e28.css"]);default:return new Promise(function(e,l){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+s)))})}}function Ye(s){let e,l,t;return l=new Ae({props:{style:"transform: scale(.2);"}}),{c(){e=b("div"),j(l.$$.fragment),this.h()},l(a){e=g(a,"DIV",{class:!0});var c=E(e);te(l.$$.fragment,c),c.forEach(f),this.h()},h(){_(e,"class","loading svelte-1p50pmi")},m(a,c){A(a,e,c),H(l,e,null),t=!0},p:V,i(a){t||(q(l.$$.fragment,a),t=!0)},o(a){P(l.$$.fragment,a),t=!1},d(a){a&&f(e),J(l)}}}function Ze(s){let e,l,t,a,c,n=s[3].key&&Ee(s),i=s[0]&&$e(s);const o=s[6].default,p=Ce(o,s,s[5],null);return{c(){n&&n.c(),e=N(),i&&i.c(),l=N(),t=b("main"),p&&p.c(),this.h()},l(r){n&&n.l(r),e=S(r),i&&i.l(r),l=S(r),t=g(r,"MAIN",{class:!0});var u=E(t);p&&p.l(u),u.forEach(f),this.h()},h(){_(t,"class",a=de(s[0]?"userData":"")+" svelte-1p50pmi")},m(r,u){n&&n.m(r,u),A(r,e,u),i&&i.m(r,u),A(r,l,u),A(r,t,u),p&&p.m(t,null),c=!0},p(r,u){r[3].key?n?(n.p(r,u),u&8&&q(n,1)):(n=Ee(r),n.c(),q(n,1),n.m(e.parentNode,e)):n&&(x(),P(n,1,1,()=>{n=null}),z()),r[0]?i?(i.p(r,u),u&1&&q(i,1)):(i=$e(r),i.c(),q(i,1),i.m(l.parentNode,l)):i&&(x(),P(i,1,1,()=>{i=null}),z()),p&&p.p&&(!c||u&32)&&Fe(p,o,r,r[5],c?Be(o,r[5],u,null):Ge(r[5]),null),(!c||u&1&&a!==(a=de(r[0]?"userData":"")+" svelte-1p50pmi"))&&_(t,"class",a)},i(r){c||(q(n),q(i),q(p,r),c=!0)},o(r){P(n),P(i),P(p,r),c=!1},d(r){n&&n.d(r),r&&f(e),i&&i.d(r),r&&f(l),r&&f(t),p&&p.d(r)}}}function Ee(s){let e,l,t,a,c,n={ctx:s,current:null,token:null,hasCatch:!1,pending:et,then:xe,catch:ze,value:10,blocks:[,,,]};return _e(e=Xe(`../lib/popups/${s[3].key}.svelte`),n),{c(){n.block.c(),l=N(),t=b("div"),this.h()},l(i){n.block.l(i),l=S(i),t=g(i,"DIV",{class:!0}),E(t).forEach(f),this.h()},h(){_(t,"class","popup-blur svelte-1p50pmi")},m(i,o){n.block.m(i,n.anchor=o),n.mount=()=>l.parentNode,n.anchor=l,A(i,l,o),A(i,t,o),c=!0},p(i,o){s=i,n.ctx=s,o&8&&e!==(e=We(`../lib/popups/${s[3].key}.svelte`))&&_e(e,n)||Oe(n,s,o)},i(i){c||(q(n.block),Ue(()=>{a||(a=me(t,he,{duration:200},!0)),a.run(1)}),c=!0)},o(i){for(let o=0;o<3;o+=1){const p=n.blocks[o];P(p)}a||(a=me(t,he,{duration:200},!1)),a.run(0),c=!1},d(i){n.block.d(i),n.token=null,n=null,i&&f(l),i&&f(t),i&&a&&a.end()}}}function ze(s){return{c:V,l:V,m:V,p:V,i:V,o:V,d:V}}function xe(s){let e,l,t,a,c,n,i;var o=s[10].default;function p(r){return{props:{value:r[3].value,close:r[8]}}}return o&&(t=new o(p(s))),{c(){e=b("div"),l=b("div"),t&&j(t.$$.fragment),this.h()},l(r){e=g(r,"DIV",{class:!0});var u=E(e);l=g(u,"DIV",{class:!0});var m=E(l);t&&te(t.$$.fragment,m),m.forEach(f),u.forEach(f),this.h()},h(){_(l,"class","content"),_(e,"class","popup svelte-1p50pmi")},m(r,u){A(r,e,u),v(e,l),t&&H(t,l,null),c=!0,n||(i=[Ie(Se.call(null,e)),ee(e,"click_outside",s[9])],n=!0)},p(r,u){const m={};if(u&8&&(m.value=r[3].value),u&24&&(m.close=r[8]),o!==(o=r[10].default)){if(t){x();const d=t;P(d.$$.fragment,1,0,()=>{J(d,1)}),z()}o?(t=new o(p(r)),j(t.$$.fragment),q(t.$$.fragment,1),H(t,l,null)):t=null}else o&&t.$set(m)},i(r){c||(t&&q(t.$$.fragment,r),a&&a.end(1),c=!0)},o(r){t&&P(t.$$.fragment,r),a=we(e,Ve,{y:50,duration:150}),c=!1},d(r){r&&f(e),t&&J(t),r&&a&&a.end(),n=!1,Pe(i)}}}function et(s){let e,l,t,a,c,n;return l=new Ae({props:{style:"transform: scale(.2);"}}),{c(){e=b("div"),j(l.$$.fragment),this.h()},l(i){e=g(i,"DIV",{class:!0});var o=E(e);te(l.$$.fragment,o),o.forEach(f),this.h()},h(){_(e,"class","popup invisible svelte-1p50pmi")},m(i,o){A(i,e,o),H(l,e,null),a=!0,c||(n=[Ie(Se.call(null,e)),ee(e,"click_outside",s[7])],c=!0)},p:V,i(i){a||(q(l.$$.fragment,i),t&&t.end(1),a=!0)},o(i){P(l.$$.fragment,i),t=we(e,Ve,{y:50,duration:150}),a=!1},d(i){i&&f(e),J(l),i&&t&&t.end(),c=!1,Pe(n)}}}function $e(s){let e,l;return e=new Qe({props:{userData:s[0]}}),{c(){j(e.$$.fragment)},l(t){te(e.$$.fragment,t)},m(t,a){H(e,t,a),l=!0},p(t,a){const c={};a&1&&(c.userData=t[0]),e.$set(c)},i(t){l||(q(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function tt(s){var r;let e,l,t,a,c,n;document.title=e="FyFu Modmail "+((r=s[2].url)!=null&&r.pathname.split("/")[1]?`| ${s[2].url.pathname.split("/")[1][0].toUpperCase()}${s[2].url.pathname.split("/")[1].slice(1)}`:"");const i=[Ze,Ye],o=[];function p(u,m){return u[1]?0:1}return t=p(s),a=o[t]=i[t](s),{c(){l=N(),a.c(),c=fe()},l(u){Re('[data-svelte="svelte-nobfek"]',document.head).forEach(f),l=S(u),a.l(u),c=fe()},m(u,m){A(u,l,m),o[t].m(u,m),A(u,c,m),n=!0},p(u,[m]){var I;(!n||m&4)&&e!==(e="FyFu Modmail "+((I=u[2].url)!=null&&I.pathname.split("/")[1]?`| ${u[2].url.pathname.split("/")[1][0].toUpperCase()}${u[2].url.pathname.split("/")[1].slice(1)}`:""))&&(document.title=e);let d=t;t=p(u),t===d?o[t].p(u,m):(x(),P(o[d],1,1,()=>{o[d]=null}),z(),a=o[t],a?a.p(u,m):(a=o[t]=i[t](u),a.c()),q(a,1),a.m(c.parentNode,c))},i(u){n||(q(a),n=!0)},o(u){P(a),n=!1},d(u){u&&f(l),o[t].d(u),u&&f(c)}}}async function pt({session:s,url:e}){return!(s!=null&&s.userData)&&e.pathname!=="/login"?{status:307,redirect:"/login"}:(s==null?void 0:s.userData)&&(e.pathname==="/login"||e.pathname==="/")?{status:307,redirect:"/tickets"}:{status:200,props:s||{}}}function st(s,e,l){let t,a,c;Y(s,Ne,d=>l(2,t=d)),Y(s,X,d=>l(3,a=d)),Y(s,ve,d=>l(4,c=d));let{$$slots:n={},$$scope:i}=e,{userData:o}=e,p;Le(()=>l(1,p=!0));const r=()=>W(X,a={key:null,value:null},a),u=d=>{d&&W(ve,c=c+1,c),W(X,a={key:null,value:null},a)},m=()=>W(X,a={key:null,value:null},a);return s.$$set=d=>{"userData"in d&&l(0,o=d.userData),"$$scope"in d&&l(5,i=d.$$scope)},[o,p,t,a,c,i,n,r,u,m]}class ft extends De{constructor(e){super(),ye(this,e,st,tt,qe,{userData:0})}}export{ft as default,pt as load};

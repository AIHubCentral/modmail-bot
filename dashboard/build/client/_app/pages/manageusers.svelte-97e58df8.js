var be=Object.defineProperty,ke=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var Z=(n,e,t)=>e in n?be(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,K=(n,e)=>{for(var t in e||(e={}))Ie.call(e,t)&&Z(n,t,e[t]);if(H)for(var t of H(e))Ee.call(e,t)&&Z(n,t,e[t]);return n},Q=(n,e)=>ke(n,ye(e));import{_ as we,S as De,i as Ue,s as $e,k as j,e as w,t as F,L as Ve,d as m,m as R,c as D,a as V,h as z,b,g as T,H as y,o as L,p as ae,q as N,v as Me,n as re,w as ie,x as ne,y as oe,E as B,B as ce,a6 as ue,G,I as P,a1 as A,a7 as fe,a8 as de,P as _e,a9 as he,a0 as W,Z as Te,f as C,j as J,a5 as Oe,aa as ve}from"../chunks/index-0eb8b19d.js";import{R as pe}from"../chunks/Rolling-20a2b11f.js";import{c as je,b as Re,q as qe}from"../chunks/index-fe197f37.js";function me(n,{from:e,to:t},a={}){const s=getComputedStyle(n),l=s.transform==="none"?"":s.transform,[u,I]=s.transformOrigin.split(" ").map(parseFloat),r=e.left+e.width*u/t.width-(t.left+u),o=e.top+e.height*I/t.height-(t.top+I),{delay:i=0,duration:p=_=>Math.sqrt(_)*120,easing:f=je}=a;return{delay:i,duration:we(p)?p(Math.sqrt(r*r+o*o)):p,easing:f,css:(_,U)=>{const M=U*r,E=U*o,$=_+U*e.width/t.width,c=_+U*e.height/t.height;return`transform: ${l} translate(${M}px, ${E}px) scale(${$}, ${c});`}}}const{Map:ge}=Oe;function X(n,e,t){const a=n.slice();return a[16]=e[t],a}function Y(n,e,t){const a=n.slice();return a[19]=e[t],a}function Ne(n){let e,t,a;return t=new pe({props:{style:"transform: scale(.2);"}}),{c(){e=w("div"),ie(t.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var l=V(e);ne(t.$$.fragment,l),l.forEach(m),this.h()},h(){b(e,"class","loading svelte-cs31s5")},m(s,l){T(s,e,l),oe(t,e,null),a=!0},p:B,i(s){a||(N(t.$$.fragment,s),a=!0)},o(s){L(t.$$.fragment,s),a=!1},d(s){s&&m(e),ce(t)}}}function Se(n){var k;let e,t,a,s,l,u,I,r,o,i=[],p=new ge,f,_,U;const M=[ze,Fe],E=[];function $(d,g){return d[6]?0:1}l=$(n),u=E[l]=M[l](n);let c=((k=n[2])==null?void 0:k.length)>0&&x(n),h=n[0];const v=d=>d[16];for(let d=0;d<h.length;d+=1){let g=X(n,h,d),O=v(g);p.set(O,i[d]=le(O,g))}return{c(){e=w("form"),t=w("input"),a=j(),s=w("button"),u.c(),I=j(),c&&c.c(),r=j(),o=w("div");for(let d=0;d<i.length;d+=1)i[d].c();this.h()},l(d){e=D(d,"FORM",{class:!0});var g=V(e);t=D(g,"INPUT",{type:!0,placeholder:!0,class:!0}),a=R(g),s=D(g,"BUTTON",{class:!0});var O=V(s);u.l(O),O.forEach(m),g.forEach(m),I=R(d),c&&c.l(d),r=R(d),o=D(d,"DIV",{class:!0});var S=V(o);for(let q=0;q<i.length;q+=1)i[q].l(S);S.forEach(m),this.h()},h(){b(t,"type","text"),b(t,"placeholder","User ID / Role ID"),t.disabled=n[6],b(t,"class","svelte-cs31s5"),s.disabled=n[6],b(s,"class","svelte-cs31s5"),b(e,"class","svelte-cs31s5"),b(o,"class","list svelte-cs31s5")},m(d,g){T(d,e,g),y(e,t),W(t,n[5]),y(e,a),y(e,s),E[l].m(s,null),T(d,I,g),c&&c.m(d,g),T(d,r,g),T(d,o,g);for(let O=0;O<i.length;O+=1)i[O].m(o,null);f=!0,_||(U=[P(t,"input",n[10]),P(e,"submit",A(n[11]))],_=!0)},p(d,g){var S;(!f||g&64)&&(t.disabled=d[6]),g&32&&t.value!==d[5]&&W(t,d[5]);let O=l;if(l=$(d),l!==O&&(re(),L(E[O],1,1,()=>{E[O]=null}),ae(),u=E[l],u||(u=E[l]=M[l](d),u.c()),N(u,1),u.m(s,null)),(!f||g&64)&&(s.disabled=d[6]),((S=d[2])==null?void 0:S.length)>0?c?(c.p(d,g),g&4&&N(c,1)):(c=x(d),c.c(),N(c,1),c.m(r.parentNode,r)):c&&(c.d(1),c=null),g&275){h=d[0];for(let q=0;q<i.length;q+=1)i[q].r();i=ue(i,g,v,1,d,h,p,o,ve,le,null,X);for(let q=0;q<i.length;q+=1)i[q].a()}},i(d){if(!f){N(u),N(c);for(let g=0;g<h.length;g+=1)N(i[g]);f=!0}},o(d){L(u),f=!1},d(d){d&&m(e),E[l].d(),d&&m(I),c&&c.d(d),d&&m(r),d&&m(o);for(let g=0;g<i.length;g+=1)i[g].d();_=!1,Te(U)}}}function Fe(n){let e,t;return{c(){e=w("img"),this.h()},l(a){e=D(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){G(e.src,t="/assets/icons/plus.svg")||b(e,"src",t),b(e,"alt","add"),b(e,"class","svelte-cs31s5")},m(a,s){T(a,e,s)},i:B,o:B,d(a){a&&m(e)}}}function ze(n){let e,t;return e=new pe({props:{scaleFactor:.1}}),{c(){ie(e.$$.fragment)},l(a){ne(e.$$.fragment,a)},m(a,s){oe(e,a,s),t=!0},i(a){t||(N(e.$$.fragment,a),t=!0)},o(a){L(e.$$.fragment,a),t=!1},d(a){ce(e,a)}}}function x(n){let e,t=[],a=new ge,s,l,u=n[2];const I=r=>r[19];for(let r=0;r<u.length;r+=1){let o=Y(n,u,r),i=I(o);a.set(i,t[r]=te(i,o))}return{c(){e=w("div");for(let r=0;r<t.length;r+=1)t[r].c();s=j(),l=w("div"),this.h()},l(r){e=D(r,"DIV",{class:!0});var o=V(e);for(let i=0;i<t.length;i+=1)t[i].l(o);o.forEach(m),s=R(r),l=D(r,"DIV",{class:!0}),V(l).forEach(m),this.h()},h(){b(e,"class","small-list svelte-cs31s5"),b(l,"class","divider svelte-cs31s5")},m(r,o){T(r,e,o);for(let i=0;i<t.length;i+=1)t[i].m(e,null);T(r,s,o),T(r,l,o)},p(r,o){if(o&268){u=r[2];for(let i=0;i<t.length;i+=1)t[i].r();t=ue(t,o,I,1,r,u,a,e,ve,te,null,Y);for(let i=0;i<t.length;i+=1)t[i].a()}},i(r){for(let o=0;o<u.length;o+=1)N(t[o])},o:B,d(r){r&&m(e);for(let o=0;o<t.length;o+=1)t[o].d();r&&m(s),r&&m(l)}}}function ee(n){let e,t,a=n[3].get(n[19]).name+"",s;return{c(){e=w("div"),t=F("@"),s=F(a),this.h()},l(l){e=D(l,"DIV",{class:!0,style:!0});var u=V(e);t=z(u,"@"),s=z(u,a),u.forEach(m),this.h()},h(){b(e,"class","role-name svelte-cs31s5"),C(e,"--role-clr",n[3].get(n[19]).color),C(e,"--role-clr-24",n[3].get(n[19]).color+"BF"),C(e,"--role-clr-56",n[3].get(n[19]).color+"F0")},m(l,u){T(l,e,u),y(e,t),y(e,s)},p(l,u){u&12&&a!==(a=l[3].get(l[19]).name+"")&&J(s,a),u&12&&C(e,"--role-clr",l[3].get(l[19]).color),u&12&&C(e,"--role-clr-24",l[3].get(l[19]).color+"BF"),u&12&&C(e,"--role-clr-56",l[3].get(l[19]).color+"F0")},d(l){l&&m(e)}}}function te(n,e){let t,a=e[3].has(e[19]),s,l,u=e[19]+"",I,r,o,i,p,f,_,U,M=B,E,$,c=a&&ee(e);function h(){return e[12](e[19])}return{key:n,first:null,c(){t=w("div"),c&&c.c(),s=j(),l=w("div"),I=F(u),r=j(),o=w("button"),i=w("img"),f=j(),this.h()},l(v){t=D(v,"DIV",{class:!0});var k=V(t);c&&c.l(k),s=R(k),l=D(k,"DIV",{class:!0});var d=V(l);I=z(d,u),d.forEach(m),r=R(k),o=D(k,"BUTTON",{class:!0});var g=V(o);i=D(g,"IMG",{src:!0,alt:!0,class:!0}),g.forEach(m),f=R(k),k.forEach(m),this.h()},h(){b(l,"class","id svelte-cs31s5"),G(i.src,p="/assets/icons/x.svg")||b(i,"src",p),b(i,"alt","remove"),b(i,"class","svelte-cs31s5"),b(o,"class","remove svelte-cs31s5"),b(t,"class","user role not-manager svelte-cs31s5"),this.first=t},m(v,k){T(v,t,k),c&&c.m(t,null),y(t,s),y(t,l),y(l,I),y(t,r),y(t,o),y(o,i),y(t,f),E||($=P(o,"click",A(h)),E=!0)},p(v,k){e=v,k&12&&(a=e[3].has(e[19])),a?c?c.p(e,k):(c=ee(e),c.c(),c.m(t,s)):c&&(c.d(1),c=null),k&4&&u!==(u=e[19]+"")&&J(I,u)},r(){U=t.getBoundingClientRect()},f(){fe(t),M()},a(){M(),M=de(t,U,me,{duration:200})},i(v){_||_e(()=>{_=he(t,e[7],{key:e[19]}),_.start()})},o:B,d(v){v&&m(t),c&&c.d(),E=!1,$()}}}function Be(n){let e,t=n[16]+"",a;return{c(){e=w("div"),a=F(t),this.h()},l(s){e=D(s,"DIV",{class:!0});var l=V(e);a=z(l,t),l.forEach(m),this.h()},h(){b(e,"class","id svelte-cs31s5")},m(s,l){T(s,e,l),y(e,a)},p(s,l){l&1&&t!==(t=s[16]+"")&&J(a,t)},d(s){s&&m(e)}}}function Ce(n){let e=n[4].get(n[16]).avatar,t,a,s,l=n[4].get(n[16]).tag+"",u,I,r,o=n[16]+"",i,p=e&&se(n);return{c(){p&&p.c(),t=j(),a=w("div"),s=w("div"),u=F(l),I=j(),r=w("div"),i=F(o),this.h()},l(f){p&&p.l(f),t=R(f),a=D(f,"DIV",{class:!0});var _=V(a);s=D(_,"DIV",{class:!0});var U=V(s);u=z(U,l),U.forEach(m),I=R(_),r=D(_,"DIV",{class:!0});var M=V(r);i=z(M,o),M.forEach(m),_.forEach(m),this.h()},h(){b(s,"class","tag svelte-cs31s5"),b(r,"class","id svelte-cs31s5"),b(a,"class","name svelte-cs31s5")},m(f,_){p&&p.m(f,_),T(f,t,_),T(f,a,_),y(a,s),y(s,u),y(a,I),y(a,r),y(r,i)},p(f,_){_&17&&(e=f[4].get(f[16]).avatar),e?p?p.p(f,_):(p=se(f),p.c(),p.m(t.parentNode,t)):p&&(p.d(1),p=null),_&17&&l!==(l=f[4].get(f[16]).tag+"")&&J(u,l),_&1&&o!==(o=f[16]+"")&&J(i,o)},d(f){p&&p.d(f),f&&m(t),f&&m(a)}}}function se(n){let e,t,a;return{c(){e=w("img"),this.h()},l(s){e=D(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){G(e.src,t=n[4].get(n[16]).avatarURL)||b(e,"src",t),b(e,"alt",a="avatar-"+n[16]),b(e,"class","avatar svelte-cs31s5")},m(s,l){T(s,e,l)},p(s,l){l&17&&!G(e.src,t=s[4].get(s[16]).avatarURL)&&b(e,"src",t),l&1&&a!==(a="avatar-"+s[16])&&b(e,"alt",a)},d(s){s&&m(e)}}}function le(n,e){let t,a,s,l,u,I,r,o,i,p,f=B,_,U;function M(h,v){return v&17&&(a=null),a==null&&(a=!!h[4].has(h[16])),a?Ce:Be}let E=M(e,-1),$=E(e);function c(){return e[13](e[16])}return{key:n,first:null,c(){t=w("div"),$.c(),s=j(),l=w("button"),u=w("img"),r=j(),this.h()},l(h){t=D(h,"DIV",{class:!0});var v=V(t);$.l(v),s=R(v),l=D(v,"BUTTON",{class:!0});var k=V(l);u=D(k,"IMG",{src:!0,alt:!0,class:!0}),k.forEach(m),r=R(v),v.forEach(m),this.h()},h(){G(u.src,I="/assets/icons/x.svg")||b(u,"src",I),b(u,"alt","remove"),b(u,"class","svelte-cs31s5"),b(l,"class","remove svelte-cs31s5"),b(t,"class",o="user "+(e[1].includes(e[16])?"manager":"not-manager")+" svelte-cs31s5"),this.first=t},m(h,v){T(h,t,v),$.m(t,null),y(t,s),y(t,l),y(l,u),y(t,r),_||(U=P(l,"click",A(c)),_=!0)},p(h,v){e=h,E===(E=M(e,v))&&$?$.p(e,v):($.d(1),$=E(e),$&&($.c(),$.m(t,s))),v&3&&o!==(o="user "+(e[1].includes(e[16])?"manager":"not-manager")+" svelte-cs31s5")&&b(t,"class",o)},r(){p=t.getBoundingClientRect()},f(){fe(t),f()},a(){f(),f=de(t,p,me,{duration:200})},i(h){i||_e(()=>{i=he(t,e[7],{key:e[16]}),i.start()})},o:B,d(h){h&&m(t),$.d(),_=!1,U()}}}function Le(n){let e,t,a,s,l,u,I,r,o,i,p,f,_,U;const M=[Se,Ne],E=[];function $(c,h){return c[0]?0:1}return f=$(n),_=E[f]=M[f](n),{c(){e=j(),t=w("div"),a=w("div"),s=w("div"),l=w("h1"),u=F("Autorisierte User"),I=j(),r=w("p"),o=F("Die untenstehenden User sind berechtigt, Tickets, blockierte User und Snippets \xFCber das Dashboard anzusehen und zu bearbeiten."),i=j(),p=w("div"),_.c(),this.h()},l(c){Ve('[data-svelte="svelte-1q74krj"]',document.head).forEach(m),e=R(c),t=D(c,"DIV",{class:!0});var v=V(t);a=D(v,"DIV",{class:!0});var k=V(a);s=D(k,"DIV",{class:!0});var d=V(s);l=D(d,"H1",{});var g=V(l);u=z(g,"Autorisierte User"),g.forEach(m),I=R(d),r=D(d,"P",{class:!0});var O=V(r);o=z(O,"Die untenstehenden User sind berechtigt, Tickets, blockierte User und Snippets \xFCber das Dashboard anzusehen und zu bearbeiten."),O.forEach(m),d.forEach(m),i=R(k),p=D(k,"DIV",{class:!0});var S=V(p);_.l(S),S.forEach(m),k.forEach(m),v.forEach(m),this.h()},h(){document.title="FyFu Modmail",b(r,"class","svelte-cs31s5"),b(s,"class","text svelte-cs31s5"),b(p,"class","users svelte-cs31s5"),b(a,"class","box svelte-cs31s5"),b(t,"class","wrapper svelte-cs31s5")},m(c,h){T(c,e,h),T(c,t,h),y(t,a),y(a,s),y(s,l),y(l,u),y(s,I),y(s,r),y(r,o),y(a,i),y(a,p),E[f].m(p,null),U=!0},p(c,[h]){let v=f;f=$(c),f===v?E[f].p(c,h):(re(),L(E[v],1,1,()=>{E[v]=null}),ae(),_=E[f],_?_.p(c,h):(_=E[f]=M[f](c),_.c()),N(_,1),_.m(p,null))},i(c){U||(N(_),U=!0)},o(c){L(_),U=!1},d(c){c&&m(e),c&&m(t),E[f].d()}}}function Ge(n,e,t){const[a,s]=Re({duration:h=>Math.sqrt(h*200),fallback(h,v){const k=getComputedStyle(h),d=k.transform==="none"?"":k.transform;return{duration:200,easing:qe,css:g=>`
					transform: ${d} scale(${g});
					opacity: ${g}
				`}}});let l,u,I,r=new Map,o=new Map,i="",p=!1;Me(async()=>{f()});async function f(){let h=await fetch("/api/v1/authorized");if(h.status===200){let v=await h.json();t(0,l=v.userIds),t(1,u=v.managerIds),t(2,I=v.roleIds),_(),U()}}async function _(){let h=[...l],v=await fetch(`/api/v1/users?${h.map(k=>`userId=${k}`).join("&")}`);if(v.status===200){for(let k of await v.json())o.set(k.id,Q(K({},k),{tag:`${k.username}#${k.discriminator}`,avatarURL:k.avatar?`https://cdn.discordapp.com/avatars/${k.id}/${k.avatar}.png`:"https://discord.com/assets/1f0bfc0865d324c2587920a7d80c609b.png"}));t(4,o=Object.assign(o))}}async function U(){let h=await fetch("/api/v1/roles");if(h.status===200){for(let v of await h.json())r.set(v.id,v);t(3,r=Object.assign(r))}}function M(){i=this.value,t(5,i)}return[l,u,I,r,o,i,p,s,f,U,M,async()=>{if(p)return;t(6,p=!0),await U(),(await fetch("/api/v1/authorized",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i,type:r.has(i)?"role":"user"})})).status===204&&f(),t(5,i=""),t(6,p=!1)},async h=>{await fetch("/api/v1/authorized",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:h})}),f()},async h=>{await fetch("/api/v1/authorized",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:h})}),f()}]}class Ze extends De{constructor(e){super(),Ue(this,e,Ge,Le,$e,{})}}export{Ze as default};
